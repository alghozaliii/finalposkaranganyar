import{k as v,B as c,r as p,C as x,c as i,o as n,d as e,a as l,e as m,u,w as h,i as y,T as w,h as b}from"./app-CmYmw4sZ.js";import{_ as q,a as k}from"./InputLabel-BdWTn9Az.js";import{P as S}from"./PrimaryButton-Cca0hXOf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"relative mt-2"},R={class:"mt-1"},I={class:"border-2 border-dashed border-gray-300 rounded-lg px-4 py-4 text-center bg-gray-50 hover:border-blue-400 transition-colors duration-300"},B={key:0,class:"relative w-full h-32 mb-2"},P=["src"],C={class:"flex items-center gap-4"},F={key:0,class:"text-sm text-gray-600"},M={__name:"UploadQrisPhotoForm",setup(U){const s=v(()=>c().props.auth.user);p(null);const a=p(s.value.qris_photo?`/storage/${s.value.qris_photo}`:null),o=x({qris_photo:null}),f=r=>{const t=r.target.files[0];if(o.qris_photo=t,t){const d=new FileReader;d.onload=g=>{a.value=g.target.result},d.readAsDataURL(t)}else a.value=s.value.qris_photo?`/storage/${s.value.qris_photo}`:null},_=()=>{o.post(route("owner.profile.uploadQrisPhoto"),{forceFormData:!0,onSuccess:()=>{o.qris_photo=null,c().props.auth.user.qris_photo=s.value.qris_photo,alert("Foto QRIS berhasil diunggah!")},onError:r=>{console.error("Gagal mengunggah foto QRIS:",r)}})};return(r,t)=>(n(),i("section",null,[t[3]||(t[3]=e("header",null,[e("h2",{class:"text-lg font-medium text-gray-900"},"Upload QRIS Photo"),e("p",{class:"mt-1 text-sm text-gray-600"}," Upload foto QRIS Anda untuk metode pembayaran QRIS. ")],-1)),e("form",{onSubmit:b(_,["prevent"]),class:"mt-6 space-y-6"},[e("div",null,[l(q,{for:"qris_photo",value:"Foto QRIS"}),e("div",Q,[e("div",R,[e("div",I,[t[0]||(t[0]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t[1]||(t[1]=e("p",{class:"text-sm text-gray-600 mt-2"},"Klik untuk upload foto QRIS",-1)),a.value?(n(),i("div",B,[e("img",{src:a.value,class:"w-full h-full object-contain rounded-lg"},null,8,P)])):m("",!0),e("input",{id:"qris_photo",type:"file",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*",onChange:f},null,32)])])]),l(k,{class:"mt-2",message:u(o).errors.qris_photo},null,8,["message"])]),e("div",C,[l(S,{disabled:u(o).processing},{default:h(()=>t[2]||(t[2]=[y("Save")])),_:1},8,["disabled"]),l(w,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:h(()=>[u(o).recentlySuccessful?(n(),i("p",F,"Saved.")):m("",!0)]),_:1})])],32)]))}};export{M as default};
