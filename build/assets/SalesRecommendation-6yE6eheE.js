import{r as c,z as D,c as l,o as a,a as f,u as V,m as _,w as z,d as t,e as R,n,W as p,j as y,F as g,f as v,t as i,y as k}from"./app-CmYmw4sZ.js";import{_ as N}from"./AuthenticatedLayout-DJ1yYA2u.js";const H={class:"flex min-h-screen bg-gray-100"},F={class:"flex flex-col items-center gap-10 mt-8 flex-1"},U={class:"flex-1 md:ml-24"},A={class:"flex items-center justify-between bg-white p-4 shadow md:hidden"},I={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},E={class:"p-6 bg-white border-b border-gray-200"},K={class:"mb-4 flex space-x-4"},W=["value"],O=["value"],Q={key:0},Y={class:"min-w-full divide-y divide-gray-200"},G={class:"bg-white divide-y divide-gray-200"},J={class:"px-6 py-4"},X={class:"px-6 py-4"},Z={class:"px-6 py-4"},tt={class:"px-6 py-4"},et={class:"px-6 py-4"},st={class:"px-6 py-4"},ot={key:1,class:"text-gray-500"},nt={__name:"SalesRecommendation",props:{sales:Array,months:Array,years:Array},setup(x){const d=c(""),u=c(""),m=c(!1),r=c("laporan"),b=()=>p.get(route("owner.dashboard")),C=()=>p.get(route("owner.cashier")),M=()=>p.get(route("owner.stock")),P=()=>p.get(route("owner.employees")),j=()=>p.get("/helpdeskowner"),S=()=>p.get(route("owner.dashboard")),T=()=>p.post(route("logout")),w=o=>{m.value=o===!1?!1:!m.value};D(()=>{const o=new URL(window.location.href),e=o.searchParams.get("month"),s=o.searchParams.get("year");e&&(d.value=e),s&&(u.value=s)});const h=()=>{const o=new URL(window.location.href);d.value?o.searchParams.set("month",d.value):o.searchParams.delete("month"),u.value?o.searchParams.set("year",u.value):o.searchParams.delete("year"),window.location.href=o.toString()},B=()=>{const o=new URL("/sales-recommendation/export",window.location.origin);d.value&&o.searchParams.append("month",d.value),u.value&&o.searchParams.append("year",u.value),window.location.href=o.toString()};return(o,e)=>(a(),l(g,null,[f(V(_),{title:"Rekomendasi Penjualan"}),f(N,null,{default:z(()=>[t("div",H,[t("aside",{class:n(["bg-white shadow-lg flex flex-col items-center pt-6 fixed inset-y-0 left-0 transition-transform z-30",m.value?"translate-x-0":"-translate-x-full","md:translate-x-0 md:static md:w-24 w-64"])},[t("nav",F,[t("button",{onClick:b,class:"flex flex-col items-center"},[t("div",{class:n(["p-3 rounded-md",r.value==="dashboard"?"bg-purple-100 text-purple-700":"text-gray-500"])},[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:n(["h-6 w-6",r.value==="dashboard"?"text-purple-700":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e[4]||(e[4]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h7"},null,-1)]),2))],2),e[5]||(e[5]=t("span",{class:"text-xs mt-2"},"Dashboard",-1))]),t("button",{onClick:C,class:"flex flex-col items-center"},e[6]||(e[6]=[t("div",{class:"p-3 rounded-md"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})])],-1),t("span",{class:"text-xs mt-2"},"Transaksi",-1)])),t("button",{onClick:M,class:"flex flex-col items-center"},[t("div",{class:n(["p-3 rounded-md",r.value==="stock"?"bg-purple-100 text-purple-700":"text-gray-500"])},[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:n(["h-6 w-6",r.value==="stock"?"text-purple-700":"text-gray-500"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e[7]||(e[7]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},null,-1)]),2))],2),e[8]||(e[8]=t("span",{class:"text-xs mt-2"},"Stok barang",-1))]),t("button",{onClick:P,class:"flex flex-col items-center"},[t("div",{class:n(["p-3 rounded-md",r.value==="employees"?"bg-purple-100 text-purple-700":"text-gray-500"])},[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:n(["h-6 w-6",r.value==="employees"?"text-purple-700":"text-gray-500"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e[9]||(e[9]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]),2))],2),e[10]||(e[10]=t("span",{class:"text-xs mt-2"},"Karyawan",-1))]),t("button",{onClick:j,class:"flex flex-col items-center"},e[11]||(e[11]=[t("div",{class:"p-3 rounded-md"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),t("span",{class:"text-xs mt-2"},"Helpdesk",-1)])),t("button",{onClick:S,class:"flex flex-col items-center"},[t("div",{class:n(["p-3 rounded-md",r.value==="laporan"?"bg-purple-100 text-purple-700":"text-gray-500"])},[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:n(["h-6 w-6",r.value==="laporan"?"text-purple-700":"text-gray-500"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e[12]||(e[12]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)]),2))],2),e[13]||(e[13]=t("span",{class:"text-xs mt-2"},"Laporan",-1))])]),t("button",{onClick:T,class:"flex flex-col items-center mt-auto mb-6"},e[14]||(e[14]=[t("div",{class:"p-3 rounded-md"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})])],-1),t("span",{class:"text-xs mt-2"},"Logout",-1)]))],2),m.value?(a(),l("div",{key:0,onClick:e[0]||(e[0]=s=>w(!1)),class:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden"})):R("",!0),t("div",U,[t("header",A,[t("button",{onClick:e[1]||(e[1]=s=>w())},e[15]||(e[15]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])),e[16]||(e[16]=t("h1",{class:"text-lg font-semibold"},"Rekomendasi Penjualan",-1)),e[17]||(e[17]=t("div",{class:"w-8 h-8 rounded-full bg-gray-300"},null,-1))]),t("div",I,[t("div",$,[t("div",q,[t("div",E,[e[21]||(e[21]=t("h3",{class:"text-lg font-bold mb-4"},"Produk Terlaris",-1)),t("div",K,[y(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>d.value=s),onChange:h,class:"px-4 py-2 border rounded"},[e[18]||(e[18]=t("option",{value:""},"Pilih Bulan",-1)),(a(!0),l(g,null,v(x.months,s=>(a(),l("option",{key:s,value:s},i(s),9,W))),128))],544),[[k,d.value]]),y(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>u.value=s),onChange:h,class:"px-4 py-2 border rounded"},[e[19]||(e[19]=t("option",{value:""},"Pilih Tahun",-1)),(a(!0),l(g,null,v(x.years,s=>(a(),l("option",{key:s,value:s},i(s),9,O))),128))],544),[[k,u.value]]),t("button",{onClick:B,class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded"},"Download CSV")]),x.sales.length>0?(a(),l("div",Q,[t("table",Y,[e[20]||(e[20]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"#"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Produk"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Total Kuantitas"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Total Penjualan"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Profit per Produk"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Total Profit")])],-1)),t("tbody",G,[(a(!0),l(g,null,v(x.sales,(s,L)=>(a(),l("tr",{key:s.product_name},[t("td",J,i(L+1),1),t("td",X,i(s.product_name),1),t("td",Z,i(s.total_quantity),1),t("td",tt,"Rp "+i(parseInt(s.total_sales).toLocaleString("id-ID")),1),t("td",et," Rp "+i(Number(s.profit_per_product??0).toLocaleString("id-ID",{minimumFractionDigits:2})),1),t("td",st," Rp "+i((Number(s.profit_per_product??0)*Number(s.total_quantity??0)).toLocaleString("id-ID",{minimumFractionDigits:2})),1)]))),128))])])])):(a(),l("div",ot," Tidak ada data penjualan. "))])])])])])])]),_:1})],64))}};export{nt as default};
