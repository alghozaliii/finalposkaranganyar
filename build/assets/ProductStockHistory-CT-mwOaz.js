import{r as v,k as c,c as l,o as d,a as p,u as h,m as N,w as x,d as t,P as T,i as _,j as H,y as j,e as A,F as f,f as k,t as o,n as w}from"./app-CmYmw4sZ.js";import{_ as B}from"./AuthenticatedLayout-DJ1yYA2u.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"py-12"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},I={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6 text-gray-900"},R={class:"flex justify-between items-center mb-4"},z={class:"showing flex items-center gap-2"},E={class:"overflow-x-auto"},J={class:"min-w-full bg-white border"},K={key:0},U={class:"py-2 px-4 border-b"},W={class:"py-2 px-4 border-b"},q={class:"py-2 px-4 border-b"},G={class:"py-2 px-4 border-b"},O={class:"py-2 px-4 border-b"},Q={class:"py-2 px-4 border-b"},X={class:"pagination flex justify-between items-center mt-4"},Y={class:"pagination-info text-gray-600"},Z={class:"pagination-controls flex gap-1"},tt=["disabled"],et=["onClick"],st=["disabled"],at={__name:"ProductStockHistory",props:{stockHistories:{type:Array,default:()=>[]},products:{type:Array,default:()=>[]}},setup(P){const b=P,i=v(10),r=v(1),S=c(()=>b.products.reduce((a,e)=>(a[e.id]=e.name,a),{})),y=c(()=>{const a=(r.value-1)*i.value,e=a+i.value;return b.stockHistories.slice(a,e)}),n=c(()=>Math.ceil(b.stockHistories.length/i.value)),V=c(()=>{const a=[];if(n.value<=5)for(let s=1;s<=n.value;s++)a.push(s);else{let s=Math.max(1,r.value-2),u=Math.min(n.value,s+5-1);u-s<4&&(s=Math.max(1,u-5+1));for(let m=s;m<=u;m++)a.push(m)}return a}),g=a=>{a>=1&&a<=n.value&&(r.value=a)},C=a=>{const e={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(a).toLocaleDateString("id-ID",e)},M=a=>{switch(a){case"initial":return"Stok Awal";case"add":return"Penambahan Stok";case"deduct":return"Pengurangan Stok";case"edit":return"Penyesuaian Stok";default:return a}},D=a=>a>0?"text-green-600 font-semibold":a<0?"text-red-600 font-semibold":"";return(a,e)=>(d(),l(f,null,[p(h(N),{title:"Riwayat Stok Produk"}),p(B,null,{header:x(()=>e[3]||(e[3]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Riwayat Stok Produk",-1)])),default:x(()=>[t("div",L,[t("div",F,[t("div",I,[t("div",R,[p(h(T),{href:a.route("employee.stock"),class:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-700"},{default:x(()=>e[4]||(e[4]=[_(" Kembali ke Manajemen Stok ")])),_:1},8,["href"]),t("div",z,[e[6]||(e[6]=_(" Menampilkan ")),H(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s),class:"page-select border rounded-md p-1"},e[5]||(e[5]=[t("option",{value:5},"5",-1),t("option",{value:10},"10",-1),t("option",{value:25},"25",-1),t("option",{value:50},"50",-1)]),512),[[j,i.value]])])]),t("div",E,[t("table",J,[e[8]||(e[8]=t("thead",null,[t("tr",null,[t("th",{class:"py-2 px-4 border-b bg-gray-100 text-left text-sm font-semibold text-gray-700"},"Tanggal & Waktu"),t("th",{class:"py-2 px-4 border-b bg-gray-100 text-left text-sm font-semibold text-gray-700"},"Nama Produk"),t("th",{class:"py-2 px-4 border-b bg-gray-100 text-left text-sm font-semibold text-gray-700"},"Stok Lama"),t("th",{class:"py-2 px-4 border-b bg-gray-100 text-left text-sm font-semibold text-gray-700"},"Stok Baru"),t("th",{class:"py-2 px-4 border-b bg-gray-100 text-left text-sm font-semibold text-gray-700"},"Perubahan"),t("th",{class:"py-2 px-4 border-b bg-gray-100 text-left text-sm font-semibold text-gray-700"},"Jenis Perubahan"),t("th",{class:"py-2 px-4 border-b bg-gray-100 text-left text-sm font-semibold text-gray-700"},"Catatan")])],-1)),t("tbody",null,[y.value.length===0?(d(),l("tr",K,e[7]||(e[7]=[t("td",{colspan:"7",class:"py-4 px-4 border-b text-center"},"Tidak ada riwayat stok tersedia",-1)]))):A("",!0),(d(!0),l(f,null,k(y.value,s=>(d(),l("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",U,o(C(s.created_at)),1),t("td",W,o(S.value[s.product_id]||"Produk Tidak Ditemukan"),1),t("td",q,o(s.old_stock),1),t("td",G,o(s.new_stock),1),t("td",{class:w(["py-2 px-4 border-b",D(s.change_amount)])},o(s.change_amount>0?"+":"")+o(s.change_amount),3),t("td",O,o(M(s.type)),1),t("td",Q,o(s.notes||"-"),1)]))),128))])])]),t("div",X,[t("div",Y,o(r.value)+" dari "+o(n.value),1),t("div",Z,[t("button",{onClick:e[1]||(e[1]=s=>g(r.value-1)),disabled:r.value===1,class:"px-3 py-1 border rounded-md bg-white hover:bg-gray-100"},e[9]||(e[9]=[t("i",{class:"fas fa-chevron-left"},null,-1)]),8,tt),(d(!0),l(f,null,k(V.value,s=>(d(),l("button",{key:s,onClick:u=>g(s),class:w([{"bg-blue-500 text-white":r.value===s,"bg-white hover:bg-gray-100":r.value!==s},"px-3 py-1 border rounded-md"])},o(s),11,et))),128)),t("button",{onClick:e[2]||(e[2]=s=>g(r.value+1)),disabled:r.value===n.value,class:"px-3 py-1 border rounded-md bg-white hover:bg-gray-100"},e[10]||(e[10]=[t("i",{class:"fas fa-chevron-right"},null,-1)]),8,st)])])])])])]),_:1})],64))}},lt=$(at,[["__scopeId","data-v-d174675a"]]);export{lt as default};
