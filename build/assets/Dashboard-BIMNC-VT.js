import{_ as b}from"./AuthenticatedLayout-DJ1yYA2u.js";import{p as x,c as i,o as d,a as w,d as e,e as c,n as m,t as n,F as u,f as h,h as v,i as a,W as p}from"./app-CmYmw4sZ.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k={components:{AuthenticatedLayout:b},props:{pendingUsers:Array,acceptedUsers:Array,rejectedUsers:Array},data(){return{selectedTab:"request",showSidebar:window.innerWidth>=1024,showProfile:!1,showModal:!1,selectedUser:{},fallbackImage:"/images/profile.png",activeSection:"dashboard",mobileMenuOpen:!1}},computed:{filteredUsers(){return this.selectedTab==="request"?this.pendingUsers||[]:this.selectedTab==="accepted"?this.acceptedUsers||[]:this.selectedTab==="rejected"?this.rejectedUsers||[]:[]}},methods:{formatDate(r){const t=new Date(r);return new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)},approveUser(r){p.post(route("verificator.approve",r))},rejectUser(r){confirm("Apakah Anda yakin ingin menolak pendaftaran ini? Tindakan ini tidak dapat dibatalkan.")&&p.post(route("verificator.reject",r))},showDetails(r){this.selectedUser=r,this.showModal=!0},getImageUrl(r){return r?r.startsWith("http")||r.startsWith("/storage/")?r:`/storage/${r}`:"/images/default.png"},handleImageError(r){r.target.src=this.fallbackImage},goToFAQ(){p.get(route("verificator.helpdesk.faq"))},handleResize(){window.innerWidth<1024?this.showSidebar=!1:this.showSidebar=!0},logout(){p.post(route("logout"))},activateSection(r){this.activeSection=r,this.showSidebar=!1}},mounted(){window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)}},_={class:"min-h-screen bg-gray-50"},U={class:"flex h-screen"},j={class:"flex flex-col items-center gap-10 mt-8 flex-1"},C={class:"flex-1 md:ml-25 h-screen flex flex-col"},I={class:"flex items-center justify-between bg-white p-4 shadow md:hidden"},T={class:"flex-1 overflow-y-auto pt-1 pb-6 px-8"},E={class:"pt-4"},A={key:0,class:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded"},M={class:"sticky top-10 bg-white py-4 z-10 flex gap-2 overflow-x-auto border-b mb-6"},S={class:"bg-white p-4 rounded-lg shadow max-h-[calc(100vh-180px)] overflow-y-auto"},D={key:0,class:"text-center py-8"},z={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},N={class:"mb-3 flex justify-center"},P=["src"],F={class:"font-bold"},L={class:"text-sm"},q={class:"text-sm"},B=["href"],H={class:"text-sm"},W=["title"],K={class:"flex gap-2 justify-center mt-3"},R=["onClick"],V=["onClick"],Q=["onClick"],G={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},O={class:"mb-3 flex justify-center"},J=["src"],X={class:"font-bold"},Y={class:"text-sm"},Z={class:"text-sm"},$=["href"],ee={class:"text-sm"},te=["title"],se={class:"flex gap-2 justify-center mt-3"},oe=["onClick"],le={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},re={class:"mb-3 flex justify-center"},ne=["src"],ie={class:"font-bold"},de={class:"text-sm"},ae={class:"text-sm"},ge=["href"],me={class:"text-sm"},ce=["title"],ue={class:"flex gap-2 justify-center mt-3"},pe=["onClick"],he={class:"font-bold text-xl"},fe={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},be={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md max-h-[80vh] overflow-y-auto mx-4"},xe={class:"mb-2"},we={class:"mb-2"},ve={class:"mb-2"},ye={class:"mb-2"},ke={class:"mb-2"},_e={class:"mt-4"},Ue=["src"],je=["href"],Ce={class:"mt-4"},Ie=["src"],Te=["href"],Ee={class:"mt-6 flex justify-end space-x-2"};function Ae(r,t,Me,Se,o,l){const f=x("AuthenticatedLayout");return d(),i(u,null,[w(f),e("div",_,[e("div",U,[e("aside",{class:m(["bg-white shadow-lg flex flex-col items-center pt-6 fixed inset-y-0 left-0 h-screen transition-transform z-30",o.showSidebar?"translate-x-0":"-translate-x-full","md:translate-x-0 md:static md:w-24 w-64"])},[e("nav",j,[e("button",{onClick:t[0]||(t[0]=s=>l.activateSection("dashboard")),class:"flex flex-col items-center"},[e("div",{class:m(["p-3 rounded-md",o.activeSection==="dashboard"?"bg-purple-100 text-purple-700":"text-gray-500"])},[(d(),i("svg",{xmlns:"http://www.w3.org/2000/svg",class:m(["h-6 w-6",o.activeSection==="dashboard"?"text-purple-700":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t[17]||(t[17]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h7"},null,-1)]),2))],2),t[18]||(t[18]=e("span",{class:"text-xs mt-2"},"Dashboard",-1))]),e("button",{onClick:t[1]||(t[1]=(...s)=>l.goToFAQ&&l.goToFAQ(...s)),class:"flex flex-col items-center"},t[19]||(t[19]=[e("div",{class:"p-3 rounded-md"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),e("span",{class:"text-xs mt-2"},"Helpdesk",-1)]))]),e("button",{onClick:t[2]||(t[2]=(...s)=>l.logout&&l.logout(...s)),class:"flex flex-col items-center mt-auto mb-20"},t[20]||(t[20]=[e("div",{class:"p-3 rounded-md"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})])],-1),e("span",{class:"text-xs"},"Logout",-1)]))],2),o.showSidebar?(d(),i("div",{key:0,onClick:t[3]||(t[3]=s=>o.showSidebar=!1),class:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden"})):c("",!0),e("div",C,[e("header",I,[e("button",{onClick:t[4]||(t[4]=s=>o.showSidebar=!o.showSidebar)},t[21]||(t[21]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])),t[22]||(t[22]=e("h1",{class:"text-lg font-semibold"},"Dashboard",-1))]),e("div",T,[e("div",E,[r.$page.props.flash&&r.$page.props.flash.message?(d(),i("div",A,n(r.$page.props.flash.message),1)):c("",!0)]),e("div",M,[e("button",{onClick:t[5]||(t[5]=s=>o.selectedTab="request"),class:m(["px-3 py-2 rounded-md font-bold whitespace-nowrap",o.selectedTab==="request"?"bg-purple-700 text-white":"bg-gray-200"])}," Request ",2),e("button",{onClick:t[6]||(t[6]=s=>o.selectedTab="accepted"),class:m(["px-3 py-2 rounded-md font-bold whitespace-nowrap",o.selectedTab==="accepted"?"bg-purple-700 text-white":"bg-gray-200"])}," Accepted ",2),e("button",{onClick:t[7]||(t[7]=s=>o.selectedTab="rejected"),class:m(["px-3 py-2 rounded-md font-bold whitespace-nowrap",o.selectedTab==="rejected"?"bg-purple-700 text-white":"bg-gray-200"])}," Rejected ",2)]),e("div",S,[o.selectedTab==="request"&&l.filteredUsers.length===0?(d(),i("div",D,t[23]||(t[23]=[e("svg",{class:"w-16 h-16 mx-auto text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("p",{class:"text-gray-500 mt-4"},"Tidak ada permintaan pendaftaran yang menunggu persetujuan.",-1)]))):o.selectedTab==="request"?(d(),i("div",z,[(d(!0),i(u,null,h(l.filteredUsers,s=>(d(),i("div",{key:s.id,class:"bg-gray-100 p-4 rounded-lg shadow text-center transition-all duration-200 hover:shadow-md"},[e("div",N,[e("img",{src:l.getImageUrl(s.selfie_photo),class:"w-12 h-12 rounded-full object-cover border-2 border-purple-400",alt:"Profile",onError:t[8]||(t[8]=(...g)=>l.handleImageError&&l.handleImageError(...g))},null,40,P)]),e("h3",F,n(s.name),1),e("p",L,[t[24]||(t[24]=e("strong",null,"NIK:",-1)),a(" "+n(s.nik),1)]),e("p",q,[t[25]||(t[25]=e("strong",null,"Email:",-1)),e("a",{href:"mailto:"+s.email,class:"text-blue-500"},n(s.email),9,B)]),e("p",H,[t[26]||(t[26]=e("strong",null,"Nomor HP:",-1)),a(" "+n(s.phone),1)]),e("p",{class:"text-sm text-gray-700 truncate",title:s.address},[t[27]||(t[27]=e("strong",null,"Alamat:",-1)),a(" "+n(s.address),1)],8,W),e("div",K,[e("button",{class:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 text-sm transition-colors",onClick:g=>l.showDetails(s)}," ðŸ” Detail ",8,R),e("button",{class:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 text-sm transition-colors",onClick:g=>l.approveUser(s.id)}," âœ… Accept ",8,V),e("button",{class:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 text-sm transition-colors",onClick:g=>l.rejectUser(s.id)}," âŒ Reject ",8,Q)])]))),128))])):o.selectedTab==="accepted"?(d(),i("div",G,[(d(!0),i(u,null,h(l.filteredUsers,s=>(d(),i("div",{key:s.id,class:"bg-gray-100 p-4 rounded-lg shadow text-center transition-all duration-200 hover:shadow-md"},[e("div",O,[e("img",{src:l.getImageUrl(s.selfie_photo),class:"w-12 h-12 rounded-full object-cover border-2 border-green-400",alt:"Profile",onError:t[9]||(t[9]=(...g)=>l.handleImageError&&l.handleImageError(...g))},null,40,J)]),e("h3",X,n(s.name),1),e("p",Y,[t[28]||(t[28]=e("strong",null,"NIK:",-1)),a(" "+n(s.nik),1)]),e("p",Z,[t[29]||(t[29]=e("strong",null,"Email:",-1)),e("a",{href:"mailto:"+s.email,class:"text-blue-500"},n(s.email),9,$)]),e("p",ee,[t[30]||(t[30]=e("strong",null,"Nomor HP:",-1)),a(" "+n(s.phone),1)]),e("p",{class:"text-sm text-gray-700 truncate",title:s.address},[t[31]||(t[31]=e("strong",null,"Alamat:",-1)),a(" "+n(s.address),1)],8,te),e("div",se,[e("button",{class:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 text-sm transition-colors",onClick:g=>l.showDetails(s)}," ðŸ” Detail ",8,oe)])]))),128))])):o.selectedTab==="rejected"?(d(),i("div",le,[(d(!0),i(u,null,h(l.filteredUsers,s=>(d(),i("div",{key:s.id,class:"bg-gray-100 p-4 rounded-lg shadow text-center transition-all duration-200 hover:shadow-md"},[e("div",re,[e("img",{src:l.getImageUrl(s.selfie_photo),class:"w-12 h-12 rounded-full object-cover border-2 border-red-400",alt:"Profile",onError:t[10]||(t[10]=(...g)=>l.handleImageError&&l.handleImageError(...g))},null,40,ne)]),e("h3",ie,n(s.name),1),e("p",de,[t[32]||(t[32]=e("strong",null,"NIK:",-1)),a(" "+n(s.nik),1)]),e("p",ae,[t[33]||(t[33]=e("strong",null,"Email:",-1)),e("a",{href:"mailto:"+s.email,class:"text-blue-500"},n(s.email),9,ge)]),e("p",me,[t[34]||(t[34]=e("strong",null,"Nomor HP:",-1)),a(" "+n(s.phone),1)]),e("p",{class:"text-sm text-gray-700 truncate",title:s.address},[t[35]||(t[35]=e("strong",null,"Alamat:",-1)),a(" "+n(s.address),1)],8,ce),e("div",ue,[e("button",{class:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 text-sm transition-colors",onClick:g=>l.showDetails(s)}," ðŸ” Detail ",8,pe)])]))),128))])):c("",!0)])]),e("div",{class:m(["fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center transition-opacity duration-300",o.showProfile?"opacity-100":"opacity-0 pointer-events-none"]),onClick:t[13]||(t[13]=s=>o.showProfile=!1)},[e("div",{class:m(["bg-white p-6 rounded-lg w-64 text-center transform transition-transform duration-300",[o.showProfile?"scale-100":"scale-90"]]),onClick:t[12]||(t[12]=v(()=>{},["stop"]))},[t[36]||(t[36]=e("img",{src:"/images/profile.png",class:"w-24 h-24 rounded-full mx-auto border-4 border-purple-200 mb-4",alt:"Profile Petugas"},null,-1)),e("h3",he,n(r.$page.props.auth.user.name),1),t[37]||(t[37]=e("p",{class:"text-gray-600 mb-4"},"Verifikator",-1)),e("button",{onClick:t[11]||(t[11]=s=>o.showProfile=!1),class:"bg-purple-600 text-white px-4 py-2 rounded-lg w-full"}," Close ")],2)],2)])]),o.showModal?(d(),i("div",fe,[e("div",be,[t[45]||(t[45]=e("h2",{class:"text-xl font-semibold mb-4"},"Detail Calon Owner",-1)),e("div",xe,[t[38]||(t[38]=e("strong",null,"Nama:",-1)),a(" "+n(o.selectedUser.name),1)]),e("div",we,[t[39]||(t[39]=e("strong",null,"Email:",-1)),a(" "+n(o.selectedUser.email),1)]),e("div",ve,[t[40]||(t[40]=e("strong",null,"Nomor HP (WA):",-1)),a(" "+n(o.selectedUser.phone),1)]),e("div",ye,[t[41]||(t[41]=e("strong",null,"Alamat:",-1)),a(" "+n(o.selectedUser.address),1)]),e("div",ke,[t[42]||(t[42]=e("strong",null,"NIK:",-1)),a(" "+n(o.selectedUser.nik),1)]),e("div",_e,[t[43]||(t[43]=e("h3",{class:"font-semibold"},"Foto KTP:",-1)),e("img",{src:l.getImageUrl(o.selectedUser.ktp_photo),alt:"Foto KTP",class:"w-full max-h-60 object-contain rounded-lg border border-gray-300",onError:t[14]||(t[14]=(...s)=>l.handleImageError&&l.handleImageError(...s))},null,40,Ue),e("a",{href:l.getImageUrl(o.selectedUser.ktp_photo),target:"_blank",class:"text-blue-500 text-sm mt-1 inline-block"}," Lihat Gambar Asli ",8,je)]),e("div",Ce,[t[44]||(t[44]=e("h3",{class:"font-semibold"},"Foto Selfie:",-1)),e("img",{src:l.getImageUrl(o.selectedUser.selfie_photo),alt:"Foto Selfie",class:"w-full max-h-60 object-contain rounded-lg border border-gray-300",onError:t[15]||(t[15]=(...s)=>l.handleImageError&&l.handleImageError(...s))},null,40,Ie),e("a",{href:l.getImageUrl(o.selectedUser.selfie_photo),target:"_blank",class:"text-blue-500 text-sm mt-1 inline-block"}," Lihat Gambar Asli ",8,Te)]),e("div",Ee,[e("button",{onClick:t[16]||(t[16]=s=>o.showModal=!1),class:"px-4 py-2 bg-gray-500 text-white font-semibold rounded-md hover:bg-gray-600"}," Tutup ")])])])):c("",!0)])],64)}const Pe=y(k,[["render",Ae],["__scopeId","data-v-1d9be17d"]]);export{Pe as default};
